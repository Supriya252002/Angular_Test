<div class="container">
  <form class="border" [formGroup]="reactiveForm" (ngSubmit)="OnFormSubmitted()">
    <div class="row g-0">
      <div class="col text-center">
        <span class="fs-2">Reactive Form</span>
      </div>
    </div>

    <div class="row mb-3 mt-3">
      <div class="col-md-6 mb-3">
        <label for="fname">First Name</label>
        <input type="text" placeholder="First Name" class="form-control" formControlName="fname">
        <small *ngIf="reactiveForm.get('fname')?.invalid && reactiveForm.get('fname')?.touched">
          *First Name is a required field.
        </small>
      </div>

      <div class="col-md-6 mb-3">
        <label for="lname">Last Name</label>
        <input type="text" placeholder="Last Name" class="form-control" formControlName="lname">
        <small *ngIf="reactiveForm.get('lname')?.invalid && reactiveForm.get('lname')?.touched">
          *Last Name is a required field.
        </small>
      </div>
    </div>

    <div class="row mb-3 mt-3">
      <div class="col-md-6 mb-3">
        <label for="email">Email</label>
        <input type="text" placeholder="Email" class="form-control" formControlName="email">
        <small *ngIf="reactiveForm.get('email')?.invalid && reactiveForm.get('email')?.touched">
          *Email is required field.
        </small>
      </div>

      <div class="col-md-6 mb-3">
        <label for="mobile">Mobile</label>
        <input type="text" placeholder="Mobile" class="form-control" formControlName="mobile">
        <small *ngIf="reactiveForm.get('mobile').hasError('pattern') && reactiveForm.get('mobile')?.touched">
          *Mobile is required field.
        </small>
      </div>
    </div>

    <div class="input-box address" formGroupName="address">
      <label>Address</label>
      <input type="text" placeholder="Street address" class="form-control" formControlName="street"/>
      <small *ngIf="reactiveForm.get('address.street').invalid && reactiveForm.get('address.street').touched">
        *Street address is a required field.
      </small>
      <div class="column">
        <div class="select-box">
          <label>Country</label>
          <select name="country" class="form-control" formControlName="country">
            <option hidden>Country</option>
            <option>America</option>
            <option>Japan</option>
            <option>India</option>
            <option>Nepal</option>
          </select>
          <small *ngIf="reactiveForm.get('address.country').invalid && reactiveForm.get('address.country').touched">
            *Country is a required field.
          </small>
        </div>
        <label>State</label>
        <input type="text" placeholder="state" class="form-control" formControlName="state"/>
        <small *ngIf="reactiveForm.get('address.state').invalid && reactiveForm.get('address.state').touched">
          *Street address is a required field.
        </small>
      </div>
      <div class="column">
        <label>City</label>
        <input type="text" placeholder="city" class="form-control" formControlName="city" />
        <small *ngIf="reactiveForm.get('address.city').invalid && reactiveForm.get('address.city').touched">
          *Street address is a required field.
        </small>
        <label>PinCode</label>
        <input type="number" placeholder="Pincode" class="form-control" formControlName="pincode" />
        <small *ngIf="reactiveForm.get('address.pincode').invalid && reactiveForm.get('address.pincode').touched">
          *Street address is a required field.
        </small>
      </div>
    </div>

    <div class="center-align mt-3"> 
      <input type="submit" value="Submit" class="btn btn-primary">
    </div>
  </form>

  <!-- User Details Card -->
  <div *ngIf="issubmit" class="card-container">
    <div class="card mt-3">
      <div class="card-header">
        <h3>User Details</h3>
      </div>
      <div class="card-body">
        <p><strong>First Name:</strong> {{ formdata.fname }}</p>
        <p><strong>Last Name:</strong> {{ formdata.lname }}</p>
        <p><strong>Email:</strong> {{ formdata.email }}</p>
        <p><strong>Mobile:</strong> {{ formdata.mobile }}</p>
        <h4><b>Address</b></h4>
        <p><strong>Street:</strong> {{ formdata.address.street }}</p>
        <p><strong>Country:</strong> {{ formdata.address.country }}</p>
        <p><strong>State:</strong> {{ formdata.address.state }}</p>
        <p><strong>City:</strong> {{ formdata.address.city }}</p>
        <p><strong>PinCode:</strong> {{ formdata.address.pincode }}</p>
      </div>
    </div>
  </div>
  
</div>
